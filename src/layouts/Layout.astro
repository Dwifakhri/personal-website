---
import Analytics from "@vercel/analytics/astro";
import AOSClient from "@/libs/AOSClient.astro";
import ButtonScrollTop from "@/components/ButtonScrollTop.astro";
import "src/style/index.css";
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
            rel="stylesheet"
        />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

        <meta name="generator" content={Astro.generator} />
        <title>Dwi Fakhri Chusaini</title>
        <meta
            name="description"
            content="Frontend Engineer focused on modern web applications and UI/UX design"
        />

        <!-- SEO -->
        <meta name="robots" content="index, follow" />
        <meta name="author" content="Fakhri" />
        <link rel="canonical" href={import.meta.env.PUBLIC_APP_URL} />
        <meta
            name="keywords"
            content="
                dwi fakhri chusaini,
                frontend developer,
                frontend engineer,
                web developer,
                javascript developer,
                vue developer,
                react developer,
                nuxt developer,
                next.js developer,
                astro developer,
                ui ux developer,
                portfolio website,
                modern web development,
                responsive web design,
                indonesia frontend developer"
        />

        <!-- Open Graph (Facebook, LinkedIn, etc.) -->
        <meta property="og:type" content="website" />
        <meta
            property="og:title"
            content="Dwi Fakhri Chusaini – Frontend Engineer"
        />
        <meta
            property="og:description"
            content="Frontend Engineer focused on modern web applications and UI/UX design"
        />
        <meta property="og:url" content="import.meta.env.PUBLIC_APP_URL" />
        <meta
            property="og:image"
            content={`${import.meta.env.PUBLIC_APP_URL}/personal-website.jpg}`}
        />

        <!-- Twitter -->
        <meta name="twitter:card" content="summary_large_image" />
        <meta
            name="twitter:title"
            content="Dwi Fakhri Chusaini – Frontend Engineer"
        />
        <meta
            name="twitter:description"
            content="Frontend Engineer focused on modern web applications and UI/UX design"
        />
        <meta
            name="twitter:image"
            content={`${import.meta.env.PUBLIC_APP_URL}/personal-website.jpg}`}
        />

        <script is:inline>
            (function () {
                try {
                    const stored = localStorage.getItem("theme");
                    const prefersDark =
                        window.matchMedia &&
                        window.matchMedia("(prefers-color-scheme: dark)")
                            .matches;

                    const theme = stored || (prefersDark ? "dark" : "light");
                    document.documentElement.dataset.theme = theme;
                } catch (error) {
                    // Fail silently if localStorage or matchMedia is not available
                }
            })();
        </script>
    </head>

    <body>
        <!-- PAGE CONTENT -->
        <slot />
        <Analytics />
        <AOSClient />
        <ButtonScrollTop />

        <!-- SCROLL TO TOP BUTTON -->

        <!-- SCRIPT -->
    </body>
</html>
